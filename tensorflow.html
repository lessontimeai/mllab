<!DOCTYPE html>
<html>
<head>
    <title>Tiny TFJS Example</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
</head>
<body>
    <h4>Tiny TFJS Example<hr/></h4>
    <div id="micro-out-div">Training...</div>
    <script type="module">
        import { pipeline } from 'https://cdn.jsdelivr.net/npm/@xenova/transformers@2.17.2';

        async function runSentimentAnalysis(text="No") {
            // Allocate a pipeline for sentiment-analysis
            let pipe = await pipeline('sentiment-analysis');

            // Run the pipeline
            let out = await pipe(text);

            // Log the output and update the HTML content
            console.log(out);
            document.getElementById('micro-out-div').innerText = JSON.stringify(out, null, 2);
        }

        // Execute the function
        runSentimentAnalysis();
        window.runSentimentAnalysis = runSentimentAnalysis;
    </script>
</body>
</html>
